function fig = InspectGUI(varargin)
% This is the machine-generated representation of a Handle Graphics object
% and its children.  Note that handle values may change when these objects
% are re-created. This may cause problems with any callbacks written to
% depend on the value of the handle at the time the object was saved.
%
% To reopen this object, just type the name of the M-file at the MATLAB
% prompt. The M-file and its associated MAT-file must be on your path.

load twInspectGUI

h0 = figure('Units','characters', ...
	'Color',[0.8 0.8 0.8], ...
	'Colormap',mat0, ...
	'Position',[64.8 5 106.6 34.15384615384615], ...
	'Tag','Fig1');
h1 = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Callback','twInspectCB WPrevious', ...
	'Position',[0.3827392120075047 0.02477612612612612 0.1294559099437148 0.04729774774774775], ...
	'String','Previous', ...
	'Tag','Pushbutton1');
h1 = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Callback','twInspectCB WNext', ...
	'Position',[0.7917448405253285 0.02477612612612612 0.1294559099437148 0.04729774774774775], ...
	'String','Next', ...
	'Tag','Pushbutton1');
h1 = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Callback','twInspectCB WNumber', ...
	'Position',[0.6378986866791745 0.02927927927927928 0.1106941838649156 0.04954932432432432], ...
	'String','1', ...
	'Style','edit', ...
	'Tag','WEditText');
h1 = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Position',mat1, ...
	'String','Number:', ...
	'Style','text', ...
	'Tag','StaticText1');
h1 = axes('Parent',h0, ...
	'Box','on', ...
	'CameraUpVector',[0 1 0], ...
	'Color',[1 1 1], ...
	'ColorOrder',mat2, ...
	'Position',[0.07317073170731708 0.2342342342342342 0.8480300187617262 0.6734234234234234], ...
	'Tag','Axes1', ...
	'XColor',[0 0 0], ...
	'YColor',[0 0 0], ...
	'ZColor',[0 0 0]);
h2 = line('Parent',h1, ...
	'Color',[0 0 1], ...
	'Tag','Axes1Line1', ...
	'XData',mat3, ...
	'YData',mat4);
h2 = text('Parent',h1, ...
	'Color',[0 0 0], ...
	'HandleVisibility','off', ...
	'HorizontalAlignment','center', ...
	'Position',[17.46119733924612 8.053691275167694 17.32050807568877], ...
	'String',['Waveform 1 of 2921 Time: 600.533000 ms';'                                      '], ...
	'Tag','Axes1Text4', ...
	'VerticalAlignment','bottom');
set(get(h2,'Parent'),'Title',h2);
h2 = text('Parent',h1, ...
	'Color',[0 0 0], ...
	'HandleVisibility','off', ...
	'HorizontalAlignment','center', ...
	'Position',[17.46119733924612 -634.228187919463 17.32050807568877], ...
	'Tag','Axes1Text3', ...
	'VerticalAlignment','cap');
set(get(h2,'Parent'),'XLabel',h2);
h2 = text('Parent',h1, ...
	'Color',[0 0 0], ...
	'HandleVisibility','off', ...
	'HorizontalAlignment','center', ...
	'Position',[-2.250554323725055 -302.0134228187919 17.32050807568877], ...
	'Rotation',90, ...
	'Tag','Axes1Text2', ...
	'VerticalAlignment','baseline');
set(get(h2,'Parent'),'YLabel',h2);
h2 = text('Parent',h1, ...
	'Color',[0 0 0], ...
	'HandleVisibility','off', ...
	'HorizontalAlignment','right', ...
	'Position',[-3.104212860310421 80.53691275167785 17.32050807568877], ...
	'Tag','Axes1Text1', ...
	'Visible','off');
set(get(h2,'Parent'),'ZLabel',h2);
h1 = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Callback','twInspectCB Load', ...
	'Position',mat5, ...
	'String','Load', ...
	'Tag','Pushbutton1');
h1 = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Callback','twInspectCB Quit', ...
	'Position',[0.0525328330206379 0.02927927927927928 0.1294559099437148 0.04729774774774775], ...
	'String','Quit', ...
	'Tag','Pushbutton1');
h1 = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Position',mat6, ...
	'String','Number:', ...
	'Style','text', ...
	'Tag','StaticText1');
h1 = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Callback','twInspectCB TNumber', ...
	'Position',mat7, ...
	'String','1', ...
	'Style','edit', ...
	'Tag','TEditText');
h1 = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Callback','twInspectCB TNext', ...
	'Position',mat8, ...
	'String','Next', ...
	'Tag','Pushbutton1');
h1 = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'BackgroundColor',[0.752941176470588 0.752941176470588 0.752941176470588], ...
	'Callback','twInspectCB TPrevious', ...
	'Position',[0.3808630393996248 0.09909864864864865 0.1294559099437148 0.04729774774774775], ...
	'String','Previous', ...
	'Tag','Pushbutton1');
h1 = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'BackgroundColor',[0.752941176470588 0.752941176470588 0.752941176470588], ...
	'Position',mat9, ...
	'String','Trial:', ...
	'Style','text', ...
	'Tag','StaticText1');
h1 = uicontrol('Parent',h0, ...
	'Units','normalized', ...
	'Position',mat10, ...
	'String','Wave:', ...
	'Style','text', ...
	'Tag','StaticText1');
if nargout > 0, fig = h0; end

obj = varargin{1};
s.tev = event(1,get(obj,'Trials'));
s.wev = event(1,get(obj,'TrialWaves',1));

s.holdaxis = get(obj,'HoldAxis');

% parse input argument to see if we need to overide object's HoldAxis property
property_argin = varargin(2:end);
plength = length(property_argin);
while plength >= 2,
	prop = property_argin{1};
	val = property_argin{2};
	if plength > 2
		property_argin = property_argin(3:end);
		plength = length(property_argin);
	else
		plength = 0;
	end
	
	switch prop
	case 'HoldAxis'
		if strcmp(val,'true')
			s.holdaxis = 1;
		else
			s.holdaxis = 0;
		end
	otherwise
		error('Unknown property argument');
	end
end

s.obj = plot(obj,1);
if s.holdaxis
	ax = axis;
	s.lm = limits(ax(3),ax(4));
end

set(h0,'UserData',s);
